{"version":3,"sources":["../../../../../assets/Script/ViewScript/assets/Script/ViewScript/PauseViewScript.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/ViewScript","sourcesContent":["import EventUtil from \"../Util/EventUtil\";\r\nimport GameEvent from \"../Const/GameEvent\";\r\nimport SwitchViewData from \"../Common/SwitchViewData\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PauseViewScript extends cc.Component {\r\n\r\n    @property(cc.Button)\r\n    btnResume: cc.Button = null;\r\n    @property(cc.Button)\r\n    btnRestart: cc.Button = null;\r\n    @property(cc.Button)\r\n    btnLobby: cc.Button = null;\r\n    @property(cc.Button)\r\n    btnClose: cc.Button = null;\r\n\r\n    @property(cc.Label)\r\n    labResume: cc.Button = null;\r\n    @property(cc.Label)\r\n    labRestart: cc.Button = null;\r\n    @property(cc.Label)\r\n    labLobby: cc.Button = null;\r\n\r\n    private touchLab = null;\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchHandler,this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchHandler,this);\r\n    }\r\n\r\n    private btnResumeHandler(){\r\n        let switchViewData = new SwitchViewData(\"GameView\");\r\n        EventUtil.dispatchEvent(GameEvent.SWITCH_VIEW,switchViewData);\r\n        EventUtil.dispatchEvent(GameEvent.RESUME_GAME);\r\n        console.log(\"btnResume\");\r\n    }\r\n\r\n    private btnRestartHandler(){\r\n        let switchViewData = new SwitchViewData(\"GameView\");\r\n        EventUtil.dispatchEvent(GameEvent.SWITCH_VIEW,switchViewData);\r\n        EventUtil.dispatchEvent(GameEvent.RESTART_GAME);\r\n        console.log(\"btnRestar\");\r\n    }\r\n\r\n    private btnLobbyHandler(){\r\n        let switchViewData = new SwitchViewData(\"MainView\");\r\n        EventUtil.dispatchEvent(GameEvent.SWITCH_VIEW,switchViewData);\r\n        console.log(\"btnLobby\");\r\n    }\r\n\r\n    private btnCloseHandler(){\r\n        console.log(\"btnClose\");\r\n        let switchViewData = new SwitchViewData(\"GameView\");\r\n        EventUtil.dispatchEvent(GameEvent.SWITCH_VIEW,switchViewData);\r\n        EventUtil.dispatchEvent(GameEvent.RESUME_GAME);\r\n    }\r\n\r\n    private onTouchHandler(event : cc.Event.EventTouch){\r\n        let wp = new cc.Vec2(event.getLocationX(),event.getLocationY());\r\n        if (event.type == cc.Node.EventType.TOUCH_START){\r\n            this.touchLab = null;\r\n            this.touchLab = this.getTouchLab(wp);\r\n        }else if(event.type == cc.Node.EventType.TOUCH_END){\r\n            let lab = this.getTouchLab(wp);\r\n            if (lab == this.touchLab){\r\n                switch(lab){\r\n                    case this.labResume :\r\n                        this.btnResumeHandler();\r\n                        break;\r\n                    case this.labRestart : \r\n                        this.btnRestartHandler();\r\n                        break;\r\n                    case this.labLobby :\r\n                        this.btnLobbyHandler();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private getTouchLab(wp){\r\n        let lab = null;\r\n        let labLst = [this.labResume,this.labLobby,this.labRestart];\r\n        for (let lab of labLst){\r\n            let np = lab.node.convertToNodeSpace(wp);\r\n            if (np.x >= -lab.node.width / 2 && np.x <= lab.node.width / 2 &&\r\n            np.y >= -lab.node.height / 2 && np.y <= lab.node.height / 2){\r\n                return lab;\r\n            }\r\n        }\r\n        return lab;\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}